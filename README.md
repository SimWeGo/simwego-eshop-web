# subscriber open source

**_LOGINS_**
in the project we have 3 types of login

- Temporary login that allows a user limited access solely to purchase a bundle, restricting access to other features.
- Standard login where the user enters their email and receives a one-time password (OTP) to log in.
- Social login with google and facebook

**_SOCIAL LOGINS_**
for social login we need accounts on firebase console, google console, facebook , supabase

--Firebase:--

- Authentication => signin Methods
  => Enable google and facebook as sign-in providers
  => when enabling facebook sign-in method add your facebook app id and secret and copy the callback link to be added in your facebook app config setting under facebook login

- Settings => Authorized domains
  => add all the authorized domains

--Google Console:--

-Clients => OAuth 2.0 client IDs  
 => when enabling signin-in methods in firebase a web client id will be automatically generated by google servive
=> save the client id to be added later on to google client ids list in supabase
=> edit the ids by adding authorized javascript origins and authorized redirect urls
authorized javascript origins is the exact domain link
authorized redirect urls is the detailed link
NB : you should notice the firebase link auto filled in authorized redirect urls

--Supabase:--

- Authentication => Signin/ UP
  => Add google as provider and add your client id (created by google service in google console) to the list of client ids seperated by comma
  => Add facebook as provider with your facebook app id and secret and copy the callback link to be added in your facebook appconfig setting under facebook login

- Authentication => URL Configuration
  => add allowed redirect URLS (facebook sign-in is using signinWithOAuth where a redirect url is used to redirect the user ,
  so we should add this link here to be accepted and redirect the user successfully)

--Facebook:--
https://developers.facebook.com/
my apps => Facebook Login => Settings
=> Add the valid OAuth redirect URLs â€” these should include the Firebase and Supabase callback URLs mentioned above.

**_NOTIICATIONS_**
for notifications we are using firebase integration

- firebase => project settings => general
  => create your web app and save the config to be added in your env variables

- firebase => project settings => cloud messaging => web configuration
  => generate a web push key pair to be added in your env variables

**_Payment_**
Stripe now is used for card payment
after choosing a bundle an api will be called to get the stripe client id and stripe promise in order to display the payment element

**_Multi Currency_**
The API configuration retrieves the system's default currency and stores it in the currencySlice store using createAsyncThunk.

The user's default currency can be changed in the profile section, but it is managed solely on the frontend using sessionStorage.

In the Axios instance, the X-Currency header is set to the user's currency stored in sessionStorage if available; otherwise, the system's default currency is used.
